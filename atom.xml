<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://simple-wxt.github.io</id>
    <title>å°èœé¸¡</title>
    <updated>2021-05-24T06:00:36.019Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://simple-wxt.github.io"/>
    <link rel="self" href="https://simple-wxt.github.io/atom.xml"/>
    <subtitle>æ›¾ç»æƒ³ä»—å‰‘å¤©æ¶¯ï¼Œåæ¥Bugå¤šæ²¡å»</subtitle>
    <logo>https://simple-wxt.github.io/images/avatar.png</logo>
    <icon>https://simple-wxt.github.io/favicon.ico</icon>
    <rights>All rights reserved 2021, å°èœé¸¡</rights>
    <entry>
        <title type="html"><![CDATA[Android WebViewç™½å±æ£€æµ‹]]></title>
        <id>https://simple-wxt.github.io/post/android-webview-bai-ping-jian-ce/</id>
        <link href="https://simple-wxt.github.io/post/android-webview-bai-ping-jian-ce/">
        </link>
        <updated>2021-05-24T05:27:26.000Z</updated>
        <summary type="html"><![CDATA[<p>æä¾›webviewçš„ç™½å±æ£€æµ‹åŠŸèƒ½</p>
]]></summary>
        <content type="html"><![CDATA[<p>æä¾›webviewçš„ç™½å±æ£€æµ‹åŠŸèƒ½</p>
<!-- more -->
<p>åœ¨é¡¹ç›®ä¸­ç»å¸¸ä¼šä½¿ç”¨åˆ°WebViewæ¥åŠ è½½ç½‘é¡µã€‚éœ€è¦å¢åŠ WebViewçš„ç™½å±æ£€æµ‹æ¥ç›‘æ§è´¨é‡ã€‚</p>
<p>æ ·ä¾‹ä»£ç  <strong>åªæä¾›æ£€æµ‹åŠŸèƒ½</strong><br>
è¿‡ç¨‹ç®€è¿°ï¼šé€è¡Œæ‰«ææ³•ï¼Œé¦–å…ˆè·å–ä¸€ä¸ªWebViewçš„bitmapï¼Œç„¶åå–(0,0)åæ ‡çš„åƒç´ ã€‚åˆ›å»ºä¸€ä¸ªç­‰äºbitmapå®½åº¦çš„æ•°ç»„ï¼Œå¡«å……æ»¡è¿™ä¸ªåƒç´ å€¼ï¼Œç„¶åé€è¡Œéå†ï¼Œä¸€ä½†æœ‰ä¸ç›¸ç­‰çš„ï¼Œåˆ™è®¤ä¸ºéç™½å±</p>
<pre><code>/**
* ç™½å±
*/
private const val BLANK_SCREEN = 1
/**
* éç™½å±
*/
private const val NORMAL_SCREEN = 2
/**
* ç™½å±æ£€æµ‹é‡åˆ°å¼‚å¸¸
*/
private const val DETECT_FAIL = 3

fun isWebViewBlank(webView: WebView?): Int {
    if(webView == null){
        retrun DETECT_FAIL
    }
    if(Looper.myLooper() != Looper.getMainLooper()){
        return DETECT_FAIL
    }
    val oldValue = webView.isDrawingCacheEnable
    try{
        if(!oldValue){
            webView.isDrawingCacheEnable = true
        }
        //è·å–webviewå½“å‰æ˜¾ç¤ºåœ¨å±å¹•ä¸Šéƒ¨åˆ†çš„æˆªå›¾
        val tmpMap = webView.drawingCache
        //æ£€æµ‹bitmapæ˜¯å¦ç™½å±
        val detector = PixBlankDetector()
        return if (detector.doDetect(tmpMap)) BLANK_SCREEN else NORMAL_SCREEN
    } catch(e: Throwable){
        return DETECT_FAIL
    }finally{
        if(!oldValue){
            webView.isDrawingCacheEnable = false
        }
    }
}
</code></pre>
<p>æ¥ä¸‹æ¥çš„ç™½å±æ£€æµ‹çš„æ ¸å¿ƒç±»PixBlankDetector</p>
<pre><code>class PixBlankDetector {

    fun doDetect(bitmap: Bitmap?): Boolean {
        if(bitmap == null){
            return true
        }
        val width = bitmap.width
        val height = bitmap.height
        if(width &gt; 0 &amp;&amp; height &gt; 0){
            val originPix = bitmap.getPixel(0,0)
            val target = IntArray(width)
            Arrays.fill(target,originPix)
            val source = IntArray(width)
            var isWhiteScreen = true
            for(col in 0 until height){
                bitmap.getPixels(source,0,width,0,col,width,1)
                if(!Arrays.equals(target,source)){
                    isWhiteScreen = false
                    break
                }
            }
            return isWhiteScreen
        }
        return false
    }
}
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Hello Gridea]]></title>
        <id>https://simple-wxt.github.io/post/hello-gridea/</id>
        <link href="https://simple-wxt.github.io/post/hello-gridea/">
        </link>
        <updated>2018-12-11T16:00:00.000Z</updated>
        <summary type="html"><![CDATA[<p>ğŸ‘  æ¬¢è¿ä½¿ç”¨ <strong>Gridea</strong> ï¼<br>
âœï¸  <strong>Gridea</strong> ä¸€ä¸ªé™æ€åšå®¢å†™ä½œå®¢æˆ·ç«¯ã€‚ä½ å¯ä»¥ç”¨å®ƒæ¥è®°å½•ä½ çš„ç”Ÿæ´»ã€å¿ƒæƒ…ã€çŸ¥è¯†ã€ç¬”è®°ã€åˆ›æ„... ...</p>
]]></summary>
        <content type="html"><![CDATA[<p>ğŸ‘  æ¬¢è¿ä½¿ç”¨ <strong>Gridea</strong> ï¼<br>
âœï¸  <strong>Gridea</strong> ä¸€ä¸ªé™æ€åšå®¢å†™ä½œå®¢æˆ·ç«¯ã€‚ä½ å¯ä»¥ç”¨å®ƒæ¥è®°å½•ä½ çš„ç”Ÿæ´»ã€å¿ƒæƒ…ã€çŸ¥è¯†ã€ç¬”è®°ã€åˆ›æ„... ...</p>
<!-- more -->
<p><a href="https://github.com/getgridea/gridea">Github</a><br>
<a href="https://gridea.dev/">Gridea ä¸»é¡µ</a><br>
<a href="http://fehey.com/">ç¤ºä¾‹ç½‘ç«™</a></p>
<h2 id="ç‰¹æ€§">ç‰¹æ€§ğŸ‘‡</h2>
<p>ğŸ“  ä½ å¯ä»¥ä½¿ç”¨æœ€é…·çš„ <strong>Markdown</strong> è¯­æ³•ï¼Œè¿›è¡Œå¿«é€Ÿåˆ›ä½œ</p>
<p>ğŸŒ‰  ä½ å¯ä»¥ç»™æ–‡ç« é…ä¸Šç²¾ç¾çš„å°é¢å›¾å’Œåœ¨æ–‡ç« ä»»æ„ä½ç½®æ’å…¥å›¾ç‰‡</p>
<p>ğŸ·ï¸  ä½ å¯ä»¥å¯¹æ–‡ç« è¿›è¡Œæ ‡ç­¾åˆ†ç»„</p>
<p>ğŸ“‹  ä½ å¯ä»¥è‡ªå®šä¹‰èœå•ï¼Œç”šè‡³å¯ä»¥åˆ›å»ºå¤–éƒ¨é“¾æ¥èœå•</p>
<p>ğŸ’»  ä½ å¯ä»¥åœ¨ <strong>Windows</strong>ï¼Œ<strong>MacOS</strong> æˆ– <strong>Linux</strong> è®¾å¤‡ä¸Šä½¿ç”¨æ­¤å®¢æˆ·ç«¯</p>
<p>ğŸŒ  ä½ å¯ä»¥ä½¿ç”¨ <strong>ğ–¦ğ—‚ğ—ğ—ğ—ğ–» ğ–¯ğ–ºğ—€ğ–¾ğ—Œ</strong> æˆ– <strong>Coding Pages</strong> å‘ä¸–ç•Œå±•ç¤ºï¼Œæœªæ¥å°†æ”¯æŒæ›´å¤šå¹³å°</p>
<p>ğŸ’¬  ä½ å¯ä»¥è¿›è¡Œç®€å•çš„é…ç½®ï¼Œæ¥å…¥ <a href="https://github.com/gitalk/gitalk">Gitalk</a> æˆ– <a href="https://github.com/SukkaW/DisqusJS">DisqusJS</a> è¯„è®ºç³»ç»Ÿ</p>
<p>ğŸ‡¬ğŸ‡§  ä½ å¯ä»¥ä½¿ç”¨<strong>ä¸­æ–‡ç®€ä½“</strong>æˆ–<strong>è‹±è¯­</strong></p>
<p>ğŸŒ  ä½ å¯ä»¥ä»»æ„ä½¿ç”¨åº”ç”¨å†…é»˜è®¤ä¸»é¢˜æˆ–ä»»æ„ç¬¬ä¸‰æ–¹ä¸»é¢˜ï¼Œå¼ºå¤§çš„ä¸»é¢˜è‡ªå®šä¹‰èƒ½åŠ›</p>
<p>ğŸ–¥  ä½ å¯ä»¥è‡ªå®šä¹‰æºæ–‡ä»¶å¤¹ï¼Œåˆ©ç”¨ OneDriveã€ç™¾åº¦ç½‘ç›˜ã€iCloudã€Dropbox ç­‰è¿›è¡Œå¤šè®¾å¤‡åŒæ­¥</p>
<p>ğŸŒ± å½“ç„¶ <strong>Gridea</strong> è¿˜å¾ˆå¹´è½»ï¼Œæœ‰å¾ˆå¤šä¸è¶³ï¼Œä½†è¯·ç›¸ä¿¡ï¼Œå®ƒä¼šä¸åœå‘å‰ ğŸƒ</p>
<p>æœªæ¥ï¼Œå®ƒä¸€å®šä¼šæˆä¸ºä½ ç¦»ä¸å¼€çš„ä¼™ä¼´</p>
<p>å°½æƒ…å‘æŒ¥ä½ çš„æ‰åå§ï¼</p>
<p>ğŸ˜˜ Enjoy~</p>
]]></content>
    </entry>
</feed>